<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Micah Lim</title>

<style>
* { margin:0; padding:0; box-sizing:border-box; }

body {
  font-family: Helvetica, Arial, sans-serif;
  overflow:hidden;
  background:#f2f2f2;
  transition: background 0.4s;
}

/* -------- SKY -------- */

.sky {
  position:fixed;
  top:0;
  width:100%;
  height:65%;
  background:#f2f2f2;
  z-index:-3;
}

/* -------- WATER (single continuous color) -------- */

.water {
  position:fixed;
  bottom:0;
  width:100%;
  height:40%;
  background:#6e9dc6;   /* SAME as wave */
  z-index:-3;
}

.wave-svg {
  position:fixed;
  bottom:35%;
  width:200%;
  height:150px;
  z-index:-2;
  animation: waveMove 10s linear infinite;
}

@keyframes waveMove {
  from { transform: translateX(0); }
  to { transform: translateX(-50%); }
}

/* -------- STARS -------- */

.stars {
  position:fixed;
  width:100%;
  height:100%;
  pointer-events:none;
  display:none;
  z-index:-1;
}

.star {
  position:absolute;
  width:2px;
  height:2px;
  background:white;
  border-radius:50%;
}

/* -------- CENTRAL PANE -------- */

.center-pane {
  position:absolute;
  top:45%;
  left:50%;
  transform:translate(-50%, -50%);
  width:650px;
  background:white;
  border-radius:6px;
  box-shadow:0 10px 0 rgba(0,0,0,0.2);
  overflow:hidden;
}

.center-header {
  background:#4a4a4a;
  color:white;
  padding:14px;
  font-size:18px;
}

.center-content {
  padding:40px;
  text-align:center;
}

.center-content h1 {
  font-size:40px;
  margin-bottom:10px;
}

.center-content h1 span {
  color:#f28c00;
}

.center-content p {
  font-size:18px;
  margin-bottom:25px;
}

.nav-links {
  display:flex;
  justify-content:center;
  gap:30px;
}

.nav-links span {
  cursor:pointer;
  font-size:16px;
}

.nav-links span:hover {
  text-decoration:underline;
}

/* -------- WINDOWS -------- */

.window {
  position:absolute;
  width:600px;
  background:white;
  border-radius:6px;
  box-shadow:0 10px 0 rgba(0,0,0,0.2);
  overflow:hidden;
}

.window-header {
  background:#4a4a4a;
  color:white;
  padding:12px;
  cursor:move;
  display:flex;
  justify-content:space-between;
}

.window-content {
  padding:20px;
  max-height:400px;
  overflow-y:auto;
}

.section-title {
  font-size:20px;
  font-weight:bold;
  margin-bottom:10px;
}

.languages {
  font-size:16px;
  margin-bottom:20px;
}

iframe {
  width:100%;
  height:300px;
  margin-bottom:20px;
}

/* -------- DARK MODE -------- */

.dark body { background:#111; }
.dark .sky { background:#111; }
.dark .center-pane,
.dark .window { background:#2a2a2a; color:white; }
.dark .stars { display:block; }

.toggle {
  position:absolute;
  right:20px;
  top:15px;
  cursor:pointer;
}
</style>
</head>

<body>

<div class="sky"></div>

<svg class="wave-svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
  <path d="M0,30 C150,80 350,-20 600,30 C850,80 1050,-20 1200,30 L1200,120 L0,120 Z"
        fill="#6e9dc6"></path>
</svg>

<div class="water"></div>
<div class="stars" id="stars"></div>

<div class="center-pane">
  <div class="center-header">
    home
    <span class="toggle" onclick="toggleMode()">☀️</span>
  </div>
  <div class="center-content">
    <h1>hi! i'm <span>micah</span></h1>
    <p>programmer & climber</p>

    <div class="nav-links">
      <span onclick="openWindow('about', event)">about</span>
      <span onclick="openWindow('work', event)">work</span>
      <span onclick="openWindow('links', event)">links</span>
      <span onclick="openWindow('contact', event)">contact</span>
    </div>
  </div>
</div>

<script>
let zIndexCounter = 10;

function openWindow(type, e) {
  const win = document.createElement("div");
  win.className = "window";
  win.style.left = (window.innerWidth/2 - 300) + "px";
  win.style.top = (window.innerHeight/2 - 200) + "px";
  win.style.zIndex = zIndexCounter++;

  win.innerHTML = `
    <div class="window-header">
      <span>${type}</span>
      <span style="cursor:pointer" onclick="this.closest('.window').remove()">[x]</span>
    </div>
    <div class="window-content">
      ${getContent(type)}
    </div>
  `;

  document.body.appendChild(win);
  makeDraggable(win);
}

function getContent(type) {
  if(type === "about") {
    return `
      <p>hi! i'm micah, a programmer and climber, i...</p>
      <ul>
        <li>climb</li>
        <li>do front-end and back-end development</li>
        <li>am looking to learn more about cloud computing and cybersecurity</li>
      </ul>
    `;
  }

  if(type === "work") {
    return `
      <div class="section-title">Development</div>
      <div class="languages">C++, C#, JavaScript, SQL, HTML/CSS</div>

      <iframe src="https://www.youtube.com/embed/XBQFmpW_NNg" allowfullscreen></iframe>
      <iframe src="https://www.youtube.com/embed/i1VNaxWlPes" allowfullscreen></iframe>
    `;
  }

  if(type === "links") {
    return `
      <p><a href="https://linkedin.com/in/micahlimsy" target="_blank">LinkedIn</a></p>
      <p><a href="https://github.com/micahlimsy" target="_blank">GitHub</a></p>
    `;
  }

  if(type === "contact") {
    return `
      <p>The best way to reach me is via email:</p>
      <p><strong>micahlimshengyao@gmail.com</strong></p>
    `;
  }
}

function makeDraggable(el) {
  const header = el.querySelector(".window-header");
  let offsetX=0, offsetY=0, isDown=false;

  header.onmousedown = function(e){
    isDown=true;
    offsetX = el.offsetLeft - e.clientX;
    offsetY = el.offsetTop - e.clientY;
  };

  document.onmouseup = function(){ isDown=false; };

  document.onmousemove = function(e){
    if(!isDown) return;
    el.style.left = (e.clientX + offsetX) + "px";
    el.style.top = (e.clientY + offsetY) + "px";
  };
}

/* DARK MODE + STARS */

function toggleMode(){
  document.documentElement.classList.toggle("dark");
  generateStars();
}

function generateStars(){
  const stars = document.getElementById("stars");
  stars.innerHTML="";
  for(let i=0;i<100;i++){
    const s=document.createElement("div");
    s.className="star";
    s.style.left=Math.random()*100+"%";
    s.style.top=Math.random()*60+"%";
    stars.appendChild(s);
  }
}
</script>

</body>
</html>
