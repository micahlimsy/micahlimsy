<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Micah Lim</title>

<style>
* { margin:0; padding:0; box-sizing:border-box; }

body {
  font-family: Helvetica, Arial, sans-serif;
  overflow:hidden;
  background:#f2f2f2;
  transition: background 0.4s;
}

/* -------- SKY -------- */

.sky {
  position:fixed;
  top:0;
  width:100%;
  height:65%;
  background:#f2f2f2;
  z-index:-3;
}

/* -------- WATER (single continuous color) -------- */

.water {
  position:fixed;
  bottom:0;
  width:100%;
  height:40%;
  background:#6e9dc6;   /* SAME as wave */
  z-index:-3;
}

.wave-svg {
  position:fixed;
  bottom:35%;
  width:200%;
  height:150px;
  z-index:-2;
  animation: waveMove 14s ease-in-out infinite alternate;
}


@keyframes waveMove {
  from { transform: translateX(0); }
  to { transform: translateX(-50%); }
}

@keyframes fadeOut {
  from { opacity:1; transform: scale(1); }
  to   { opacity:0; transform: scale(0.96); }
}

/* -------- STARS -------- */

.stars {
  position:fixed;
  width:100%;
  height:100%;
  pointer-events:none;
  display:none;
  z-index:-1;
}

.star {
  position:absolute;
  width:2px;
  height:2px;
  background:white;
  border-radius:50%;
  opacity:0.8;
  animation: twinkle 2s infinite ease-in-out;
}

@keyframes twinkle {
  0%   { opacity:0.3; }
  50%  { opacity:1; }
  100% { opacity:0.3; }
}


/* -------- CENTRAL PANE -------- */

.center-pane {
  position:absolute;
  top:45%;
  left:50%;
  transform:translate(-50%, -50%);
  width:650px;
  background:white;
  border-radius:6px;
  box-shadow:0 10px 0 rgba(0,0,0,0.2);
  overflow:hidden;
}

.center-header {
  background:#4a4a4a;
  color:white;
  padding:14px;
  font-size:18px;
}

.center-content {
  padding:40px;
  text-align:center;
}

.center-content h1 {
  font-size:40px;
  margin-bottom:10px;
}

.center-content h1 span {
  color:#f28c00;
  transition: text-shadow 0.3s ease;
}

.center-content h1 span:hover {
  text-shadow: 0 0 10px rgba(242,140,0,0.6);
}


.center-content p {
  font-size:18px;
  margin-bottom:25px;
}

.nav-links {
  display:flex;
  justify-content:center;
  gap:30px;
}

.nav-links span {
  cursor:pointer;
  font-size:16px;
  transition: transform 0.15s ease, opacity 0.15s ease;
}

.nav-links span:hover {
  transform: translateY(-3px);
  opacity: 0.7;
}


.nav-links span:hover {
  text-decoration:underline;
}

/* -------- WINDOWS -------- */

.window {
  position:absolute;
  width:600px;
  height:600px;
  background:white;
  border-radius:6px;
  box-shadow:0 14px 0 rgba(0,0,0,0.18);
  overflow:hidden;
  animation: popIn 0.18s ease-out;
}

@keyframes popIn {
  from {
    transform: scale(0.96);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}



.window-header {
  background:#4a4a4a;
  color:white;
  padding:12px;
  cursor:move;
  display:flex;
  justify-content:space-between;
}

.window-content {
  padding:20px;
  height:calc(100% - 48px);  /* fills square under header */
  overflow-y:auto;
}

.window-content img:hover {
  transform: translateY(-5px);
}

.section-title {
  font-size:20px;
  font-weight:bold;
  margin-bottom:10px;
}

.languages {
  font-size:16px;
  margin-bottom:20px;
}

iframe {
  width:100%;
  height:300px;
  margin-bottom:20px;
}

/* -------- DARK MODE -------- */

.dark body { background:#111; }
.dark .sky { background:#111; }
.dark .center-pane,
.dark .window { background:#2a2a2a; color:white; }
.dark .stars { display:block; }

.toggle {
  position:absolute;
  right:20px;
  top:15px;
  cursor:pointer;
}
</style>
</head>

<body>

<div class="sky"></div>

<svg class="wave-svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
  <path d="M0,30 C150,80 350,-20 600,30 C850,80 1050,-20 1200,30 L1200,120 L0,120 Z"
        fill="#6e9dc6"></path>
</svg>

<div class="water"></div>
<div class="stars" id="stars"></div>

<div class="center-pane">
  <div class="center-header">
    home
    <span class="toggle" onclick="toggleMode()">☀️</span>
  </div>
  <div class="center-content">
    <h1>hi! i'm <span>micah</span></h1>
    <p>a programmer and climber</p>

    <div class="nav-links">
      <span onclick="openWindow('about', event)">about</span>
      <span onclick="openWindow('works', event)">works</span>
      <span onclick="openWindow('links', event)">links</span>
      <span onclick="openWindow('contact', event)">contact</span>
    </div>
  </div>
</div>

<script>
let zIndexCounter = 10;

let windowCount = 0;

function closeWindow(el){
  const win = el.closest('.window');
  win.style.animation = "fadeOut 0.15s ease forwards";
  setTimeout(() => {
    win.remove();
  }, 140);
}

function openWindow(type, e) {
  const win = document.createElement("div");
  win.className = "window";

  const offset = windowCount * 30;

  let left = (window.innerWidth / 2 - 300) + offset;
  let top  = (window.innerHeight / 2 - 300) + offset;

  // Prevent off-screen spawn
  left = Math.min(left, window.innerWidth - 620);
  top  = Math.min(top, window.innerHeight - 620);

  win.style.left = left + "px";
  win.style.top = top + "px";
  win.style.zIndex = zIndexCounter++;

  windowCount++;

  win.innerHTML = `
    <div class="window-header">
      <span>${type}</span>
      <span style="cursor:pointer" onclick="closeWindow(this)">[x]</span>
    </div>
    <div class="window-content">
      ${getContent(type)}
    </div>
  `;

  document.body.appendChild(win);

  win.addEventListener("mousedown", () => {
    win.style.zIndex = zIndexCounter++;
  });

  makeDraggable(win);
}


function getContent(type) {
  if(type === "about") {
    return `
      <p>Hi! I'm micah, an aspiring software engineer and a avid rock climber, i...</p>
      <ul>
        <li>climb. a lot</li>
        <li>do front-end and back-end development</li>
        <li>am looking to learn more about cloud computing and cybersecurity</li>
      </ul>
    `;
  }

  if(type === "works") {
  return `
    <div class="section-title">Development Tools</div>
    <div class="languages">C++, C#, JavaScript, SQL, HTML/CSS</div>

    <div class="section-title">Projects</div>

    <iframe src="https://www.youtube.com/embed/qfMJAkGi8Vk" allowfullscreen></iframe>
    <iframe src="https://www.youtube.com/embed/XBQFmpW_NNg" allowfullscreen></iframe>
    <iframe src="https://www.youtube.com/embed/i1VNaxWlPes" allowfullscreen></iframe>
  `;
}


  if(type === "links") {
  return `
    <div style="display:flex; flex-direction:column; align-items:center; justify-content:center; height:100%;">
      <div style="display:flex; gap:80px;">
        <a href="https://linkedin.com/in/micahlimsy" target="_blank">
          <img src="assets/linkedin.png" style="width:110px; cursor:pointer; transition:transform 0.2s ease;">
        </a>

        <a href="https://github.com/micahlimsy" target="_blank">
          <img src="assets/github.png" style="width:110px; cursor:pointer;">
        </a>
      </div>
    </div>
  `;
}



  if(type === "contact") {
    return `
      <p>The best way to reach me is via email:</p>
      <p><strong>micahlimshengyao@gmail.com</strong></p>
    `;
  }
}

function makeDraggable(el) {
  const header = el.querySelector(".window-header");
  let offsetX=0, offsetY=0, isDown=false;

  header.onmousedown = function(e){
    isDown=true;
    offsetX = el.offsetLeft - e.clientX;
    offsetY = el.offsetTop - e.clientY;
  };

  document.onmouseup = function(){ isDown=false; };

  document.onmousemove = function(e){
    if(!isDown) return;
    el.style.left = (e.clientX + offsetX) + "px";
    el.style.top = (e.clientY + offsetY) + "px";
  };
}

/* DARK MODE + STARS */

function toggleMode(){
  document.documentElement.classList.toggle("dark");
  generateStars();
}

function generateStars(){
  const stars = document.getElementById("stars");
  stars.innerHTML="";
  for(let i=0;i<100;i++){
    const s=document.createElement("div");
    s.className="star";
    s.style.left=Math.random()*100+"%";
    s.style.top=Math.random()*60+"%";
    s.style.animationDelay = Math.random() * 2 + "s";
    stars.appendChild(s);
  }
}

</script>

</body>
</html>
